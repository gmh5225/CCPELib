# Reference: https://build-cpp.github.io/cmkr/cmake-toml

[conditions]
test_mode = "ENABLE_TEST"

[project]
name = "CCPELib"
description = "Yet another PE file manipulation library."
languages = ["CXX"]
msvc-runtime = "static"
include-before = [
	"configurations.cmake"
]
test_mode.cmake-after = "add_definitions(-DENABLE_TEST)"


[subdir.test]
condition = "test_mode"

[target.linux-pe]
type = "interface"
include-directories = ["linux-pe/includes"]
compile-features = ["cxx_std_20"]

[target.CCPELib]
type = "library"
headers = ["include/**.h"]
sources = ["src/**.cpp", "src/**.h"]
include-directories = ["include"]
link-libraries = ["linux-pe"]
compile-features = ["cxx_std_20"]
